{% extends "base.html" %}
{% block content %}
{% include "partials/header.html" %}

    <div class="col=sm-10 col-sm-offset-2">
        <h2>Edit book</h2>
    </div>

    
    <form class="form-horizontal" method="post">
        {{ form.csrf_token }}
        
        <div class="form-group">
            <label class="col-sm-2 control-label">Edit Book Title:</label>
            <div class="col-sm-10">
            {{ form.name(class="form-control", value=book.name) }}
            </div>
            {% if form.name.errors %}
                <div class="col-sm-10 col-sm-offset-2">
                <ul class="errors">{% for error in form.name.errors %}<li>{{ error }}</li>{% endfor %}</ul>
                </div>
            {% endif %}
        </div>

        <div class="form-group">
            <label class="col-sm-2 control-label">Edit Author:</label>
            <div class="col-sm-10">
            {{ form.author(class="form-control", value=book.author) }}
            </div>
            {% if form.author.errors %}
                <div class="col-sm-10 col-sm-offset-2">
                <ul class="errors">{% for error in form.author.errors %}<li>{{ error }}</li>{% endfor %}</ul>
                </div>
            {% endif %}
        </div>

        <div class="form-group">
            <label class="col-sm-2 control-label">Edit Price Â£:</label>
            <div class="col-sm-10">
            {{ form.price(class="form-control", value=book.price) }}
            </div>
            {% if form.price.errors %}
                <div class="col-sm-10 col-sm-offset-2">
                <ul class="errors">{% for error in form.price.errors %}<li>{{ error }}</li>{% endfor %}</ul>
                </div>
            {% endif %}
        </div>

        <div class="form-group">
            <label class="col-sm-2 control-label">Edit Description:</label>
            <div class="col-sm-10">
            {{ form.description(class="form-control", value=book.description) }}
            </div>
            {% if form.description.errors %}
                <div class="col-sm-10 col-sm-offset-2">
                <ul class="errors">{% for error in form.description.errors %}<li>{{ error }}</li>{% endfor %}</ul>
                </div>
            {% endif %}
        </div>

        <div class="form-group">
            <label class="col-sm-2 control-label">Book Category</label>
            <div class="col-sm-10">
                <select class="form-control" name="category" id="categoryList">
                {% for category in categories  %}
                    <option value="{{category.name}}" {% if book.category_id == category.id  %} selected="selected" {% endif %} >{{category.name}}</option>
                {% endfor %}
                </select>
            </div>
        </div>
        
        <div class="form-group">
            <div class="col-sm-offset-2 col-sm-10">
                <button class="btn btn-success" type="submit">Submit</button>
                <a role="button" class="btn btn-default" href="{{url_for('book_admin.theBook', category_id=book.category_id, book_id=book.id)}}">Cancel</a>
            </div>
        </div>
    </form>
    
{% include "partials/footer.html" %}
{% endblock content %}